(function(){"use strict";var e={1646:function(e,t,r){var a=r(6369),s=function(){var e=this,t=e._self._c;return t("v-app",[e.esRutaPrivada?t("NavBar"):e._e(),t("v-main",[t("router-view")],1)],1)},o=[],i=function(){var e=this,t=e._self._c;return t("v-app-bar",{attrs:{app:"",color:"indigo",light:""}},[t("v-spacer"),t("v-btn",{attrs:{to:"/",text:""}},[t("v-icon",[e._v("mdi-account-plus")]),t("span",{staticClass:"mr-2"},[e._v("Nuevo usuario")])],1),t("v-btn",{attrs:{to:"/users",text:""}},[t("v-icon",[e._v("mdi-account-multiple")]),t("span",{staticClass:"mr-2"},[e._v("Mostrar usuarios")])],1),t("v-btn",{attrs:{text:""},on:{click:e.logout}},[t("v-icon",[e._v("mdi-logout")]),t("span",{staticClass:"mr-2"},[e._v("Log out")])],1)],1)},n=[],l=r(4028),u={name:"navbar-comp",data:function(){return{}},methods:{logout(){const e=(0,l.v0)();(0,l.w7)(e).then((()=>{this.$router.push("/login")})).catch((e=>{console.log(e)}))}}},c=u,d=r(3736),v=(0,d.Z)(c,i,n,!1,null,"9aa828dc",null),m=v.exports,f={name:"component-name",data:function(){return{}},computed:{esRutaPrivada(){return!!this.$route.meta.private}},components:{NavBar:m}},p=f,h=(0,d.Z)(p,s,o,!1,null,null,null),b=h.exports,g=r(2631),_=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Añadir usuarios")]),t("h2",[e._v("(Firestore)")]),t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-container",[t("v-row",[t("v-col",{attrs:{md:"6"}},[t("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Nombre",required:""},model:{value:e.usuarios.nombre,callback:function(t){e.$set(e.usuarios,"nombre",t)},expression:"usuarios.nombre"}})],1),t("v-col",{attrs:{md:"6"}},[t("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.usuarios.email,callback:function(t){e.$set(e.usuarios,"email",t)},expression:"usuarios.email"}})],1),t("v-col",[t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:function(t){return e.addUser()}}},[e._v(" Añadir nuevo usuario ")])],1)],1)],1)],1)],1)},x=[],y=r(4275),k=r(6035);const E={apiKey:"AIzaSyDiSqEggni6TQrL43LilIbWL0kUQGoIiS0",authDomain:"crud-691f5.firebaseapp.com",projectId:"crud-691f5",storageBucket:"crud-691f5.appspot.com",messagingSenderId:"689484421520",appId:"1:689484421520:web:9ac2111eb46025b09cbb15"};(0,y.ZF)(E);const C=(0,k.ad)();var w={name:"component-name",data:function(){return{usuarios:{nombre:"",email:""},valid:!0,name:"",nameRules:[e=>!!e||"El nombre es requerido",e=>e&&e.length<=10||"El nombre debe ser menos de 10 caracteres"],email:"",emailRules:[e=>!!e||"El E-mail es requerido",e=>/.+@.+\..+/.test(e)||"El E-mail debe ser válido"]}},methods:{async addUser(){try{const e=await(0,k.ET)((0,k.hJ)(C,"users"),this.usuarios);console.log("Documento creado con el ID: ",e.id),this.$router.push("/users")}catch(e){console.error("Error al agregar el documento: ",e)}}}},U=w,R=(0,d.Z)(U,_,x,!1,null,"492b7d7a",null),S=R.exports,$=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Lista de usuarios")]),t("h2",[e._v("(Firestore)")]),t("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center"},[e._v(" Nombre ")]),t("th",{staticClass:"text-center"},[e._v(" Email ")]),t("th",{staticClass:"text-center"},[e._v(" Manipular ")])])]),t("tbody",e._l(e.listaUsuarios,(function(r,a){return t("tr",{key:a},[t("td",[e._v(e._s(r.nombre))]),t("td",[e._v(e._s(r.email))]),t("td",[t("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.$router.push(`/users/${r.id}`)}}},[e._v("Editar")])],1)])})),0)]},proxy:!0}])})],1)},q=[],O=r(3822),j={name:"getusers-comp",data:function(){return{}},computed:{...(0,O.rn)(["listaUsuarios"])},methods:{...(0,O.nv)(["fetchUsers"])},created(){this.fetchUsers()}},T=j,Z=(0,d.Z)(T,$,q,!1,null,"37cf62d6",null),I=Z.exports,L=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Editar usuarios")]),t("h2",[e._v("(Firestore)")]),t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-container",[t("v-row",[t("v-col",{attrs:{md:"6"}},[t("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Nombre",required:""},model:{value:e.usuarios.nombre,callback:function(t){e.$set(e.usuarios,"nombre",t)},expression:"usuarios.nombre"}})],1),t("v-col",{attrs:{md:"6"}},[t("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.usuarios.email,callback:function(t){e.$set(e.usuarios,"email",t)},expression:"usuarios.email"}})],1),t("v-col",[t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:function(t){return e.editUser()}}},[e._v(" Editar usuario ")]),t("v-btn",{attrs:{color:"error"},on:{click:function(t){e.dialog=!0}}},[e._v("Borrar usuario")])],1)],1)],1)],1),t("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" ¿Deseas eliminar este usuario? ")]),t("v-divider"),t("v-card-actions",[t("v-btn",{attrs:{color:"red",text:""},on:{click:e.deleteUser}},[e._v("Eliminar")]),t("v-spacer"),t("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar")])],1)],1)],1)],1)},P=[],F={name:"edit-user",props:["idUser"],data:function(){return{usuarios:{nombre:"",email:""},dialog:!1,valid:!0,name:"",nameRules:[e=>!!e||"El nombre es requerido",e=>e&&e.length<=10||"El nombre debe ser menos de 10 caracteres"],email:"",emailRules:[e=>!!e||"El E-mail es requerido",e=>/.+@.+\..+/.test(e)||"El E-mail debe ser válido"]}},methods:{async fetchUserById(){const e=(0,k.JU)(C,"users",this.idUser);let t=await(0,k.QT)(e);console.log(t.data()),this.usuarios=t.data()},async editUser(){if(this.$refs.form.validate(),this.valid)try{let e=this.usuarios;e.id=this.idUser,await(0,k.r7)((0,k.JU)(C,"users",e.id),e),this.$router.push("/users")}catch(e){console.log(e)}},async deleteUser(){try{await(0,k.oe)((0,k.JU)(C,"users",this.idUser)),this.$router.push("/users")}catch(e){console.log(e)}}},created(){this.fetchUserById()}},B=F,N=(0,d.Z)(B,L,P,!1,null,"b9ed471a",null),z=N.exports,D=function(){var e=this,t=e._self._c;return t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("v-col",{attrs:{md:"5"}},[t("h2",[e._v("Login")]),t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-text-field",{attrs:{rules:e.emailRules,label:"Correo",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("v-text-field",{attrs:{rules:e.passRules,label:"Contraseña",required:"",type:"password"},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.login}},[e._v(" Ingresar ")]),t("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Limpiar Formulario ")]),t("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:function(t){return e.$router.push("/create")}}},[e._v(" Crear nuevo usuario ")])],1)],1)],1)],1)},J=[],M={name:"login-view",data:function(){return{valid:!0,pass:"",passRules:[e=>!!e||"Contraseña es requerido",e=>e&&e.length<=6||"Contraseña deb tener al menos 6 caracteres"],email:"",emailRules:[e=>!!e||"Correo es requerido",e=>/.+@.+\..+/.test(e)||"Correo debe ser valido"]}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},login(){if(this.validate(),0==this.valid)return;const e=(0,l.v0)();(0,l.e5)(e,this.email,this.pass).then((e=>{const t=e.user;console.log(t),this.$router.push("/")})).catch((e=>{const t=e.message;alert(t)}))}}},A=M,G=(0,d.Z)(A,D,J,!1,null,"3e197455",null),Q=G.exports,K=function(){var e=this,t=e._self._c;return t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("v-col",{attrs:{md:"5"}},[t("h2",[e._v("Crear nuevo usuario")]),t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-text-field",{attrs:{rules:e.emailRules,label:"Correo",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("v-text-field",{attrs:{rules:e.passRules,label:"Contraseña",required:"",type:"password"},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.create}},[e._v(" Crear ")]),t("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Limpiar Formulario ")]),t("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:function(t){return e.$router.push("/login")}}},[e._v(" Iniciar sesión ")])],1)],1)],1)],1)},W=[],X={name:"create-view",data:function(){return{valid:!0,pass:"",passRules:[e=>!!e||"Contraseña es requerido",e=>e&&e.length<=6||"Contraseña debe máximo 6 caracteres"],email:"",emailRules:[e=>!!e||"Correo es requerido",e=>/.+@.+\..+/.test(e)||"Correo debe ser valido"]}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},create(){if(this.validate(),0==this.valid)return;const e=(0,l.v0)();(0,l.Xb)(e,this.email,this.pass).then((e=>{const t=e.user;console.log(t),this.$router.push("/")})).catch((e=>{const t=e.code,r=e.message;console.log(t),console.log(r)}))}}},H=X,V=(0,d.Z)(H,K,W,!1,null,"2eff46fe",null),Y=V.exports;a["default"].use(g.Z);const ee=[{path:"/",name:"add-user",component:S,meta:{private:!0}},{path:"/users",name:"get-users",component:I,meta:{private:!0}},{path:"/users/:idUser",name:"edit-user",component:z,props:!0,meta:{private:!0}},{path:"/login",name:"login",component:Q},{path:"/create",name:"create",component:Y}],te=new g.Z({mode:"history",base:"/autenticacion-con-vue-router/",routes:ee});te.beforeEach(((e,t,r)=>{const a=(0,l.v0)();let s=a.currentUser,o=e.meta.private;o&&!s?r("/login"):void 0==o&&s?r("/"):r()}));var re=te;a["default"].use(O.ZP);var ae=new O.ZP.Store({state:{listaUsuarios:[]},getters:{},mutations:{RESET_USERS(e){e.listaUsuarios=[]},GET_USERS(e,t){e.listaUsuarios.push({id:t.id,nombre:t.data().nombre,email:t.data().email})}},actions:{async fetchUsers({commit:e}){let t=await(0,k.PL)((0,k.hJ)(C,"users"));e("RESET_USERS"),t.forEach((t=>{e("GET_USERS",t)}))}},modules:{}}),se=r(707),oe=r.n(se);r(8556);a["default"].use(oe());var ie=new(oe())({});a["default"].config.productionTip=!1;const ne=(0,l.v0)();(0,l.Aj)(ne,(()=>{new a["default"]({router:re,store:ae,vuetify:ie,render:e=>e(b)}).$mount("#app")}))}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,o){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],o=e[c][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,s,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,i=a[0],n=a[1],l=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(a);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},a=self["webpackChunkproyecto"]=self["webpackChunkproyecto"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(1646)}));a=r.O(a)})();
//# sourceMappingURL=app.0b10c9e0.js.map